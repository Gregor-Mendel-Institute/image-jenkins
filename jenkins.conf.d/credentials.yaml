---
credentials:
  system:
    domainCredentials:
      - domain:
          name: "Github"
          description: "Github access credentials"
          specifications:
            - hostnameSpecification:
                includes: "*.github.com"
        credentials:
          - usernamePassword:
              scope: GLOBAL
              id: "github-1001genomes"
              username: "1001_genomes_user"
              # Load from Environment Variable
              password: ${SomeUserPassword}
              description: "github access credentials for 1001genomes project"
      - domain:
          name: "VBC Bitbucket"
          description: "VBC Bitbucket git repositories"
          specifications:
            - hostnameSpecification:
                includes: "bitbucket.vbc.ac.at bitbucket.imp.ac.at"
        credentials:
          - usernamePassword:
              scope: GLOBAL
              id: "svc-bitbucket-access-user-passwd"
              username: "svc_bitbucket_access"
              # Load from Environment Variable
              password: ${SomeUserPassword}
              description: "Bitbucket https API credentials for discovery"
          - basicSSHUserPrivateKey:
              scope: GLOBAL
              id: "svc-bitbucket-access-ssh"
              username: "svc_bitbucket_access"
              # Doable, but not recommended
              passphrase: ""
              description: "SSH Credentials for Bitbucket checkouts"
              privateKeySource:
                directEntry:
                  # Load from Environment Variable
                  privateKey: ${SSH_PRIVATE_KEY_BITBUCKET}
      - domain:
          name: "Artifactory"
          description: "Artifactory build result uploads"
          specifications:
            - hostnameSpecification:
                includes: "artifactory.vbc.ac.at artifactory.imp.ac.at"
        credentials:
          - usernamePassword:
              scope: GLOBAL
              id: "jenkins_artifactory_creds"
              username: "svc_jenkins_docker"
              # Load from Environment Variable
              password: ${PASSWORD_SVC_JENKINS_DOCKER:-supersecret}
              description: "Artifactory upload password"
      - domain:
          name: "Jenkins Nodes"
          description: "Jenkins builder nodes"
          specifications:
            - hostnameSpecification:
                includes: "it-builder-*.vbc.ac.at it-build-clip-*.vbc.ac.at"
        credentials:
          - basicSSHUserPrivateKey:
              scope: SYSTEM
              id: "jenkins-nodes-ssh-key"
              username: "svc_jenkins_docker"
              # Doable, but not recommended
              passphrase: ""
              description: "SSH Credentials for Jenkins build nodes"
              privateKeySource:
                directEntry:
                  # Load from Environment Variable
                  privateKey: ${SSH_PRIVATE_KEY}
      - domain:
          name: "Tower"
          description: "Access Tokens for VBC Tower"
          specifications:
            - hostnameSpecification:
                includes: "tower.vbc.ac.at"
        credentials:
          - string:
              scope: GLOBAL
              id: "tower-access-token-it"
              secret: ${SecretText}
              # Load from Environment Variable
              description: "Tower Access Token for IT"
      # these are of (global) domain
      - domain:
          name: "JIRA"
          description: "JIRA Access for VBC"
          specifications:
            - hostnameSpecification:
                includes: "jira.vbc.ac.at"
        credentials:
          - usernamePassword:
              scope: GLOBAL
              id: "svc-jira-access"
              username: "svc-jira-access-user-not-existing"
              # Load from Environment Variable
              password: ${SomeUserPassword}
              description: "JIRA access service user"
      # these would be unsrestricted global credentials
      # - credential/s:
      #     - usernamePassword:
      #         scope: GLOBAL
      #         id: "username"
      #         username: "some-user"
      #         # Load from Environment Variable
      #         password: "SomeUserPassword"
      #         description: "Username/Password Credentials for some-user"
      #     - string:
      #         scope: GLOBAL
      #         id: "secret-text"
      #         secret: "SecretText"
      #         # Load from Environment Variable
      #         description: "Secret Text"
      #     - file:
      #         scope: GLOBAL
      #         id: "secret-file"
      #         fileName: "mysecretfile.txt"
      #         # SECRET_FILE_BYTES="$(cat mysecretfile.txt | base64)"
      #         secretBytes: "SECRET_FILE_BYTES"
...
